<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador Financeiro</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div id="secao-simulacao">
        <h1>Simulador Financeiro - EcoLight</h1>

        <div id="caixa_inputs">
            <label>
                KW gastos por mês
                <br>
                <input type="text" id="input_quantidade_kwh">
            </label>

            <div id="caixa_selects">
                <label>
                    Preço por Kw:
                    <br>
                    <select id="input_preçoKw">
                        <option value="input_70">R$0,70</option>
                        <option value="input_85">R$0,85</option>
                        <option value="input_95">R$0,95</option>
                        <option value="input_10">R$1,00</option>

                    </select>
                </label>

                <label>
                    Plano à calcular
                    <br>
                    <select id="input_tempo">
                        <option value="mensal">Mensal</option>
                        <option value="semestral">Semestral</option>
                        <option value="anual">Anual</option>
                        <option value="bienal">Bienal</option>
                        <option value="quadrianual">Quadrianual</option>



                    </select>
                </label>
            </div>

        </div>


        <div class="descricao_caixa">
            <p>
                Essa calculadora leva em consideração os seguintes dados:
                <br>
                <br>

                Preço por KW: R$0,85

                <br>
                <br> Levando em conta uma economia de:<br>

                <span class="porcentagem_span">20%</span>

                <br> na despesa energética <br>
            </p>

            <img src="./assets/logo-ecolight-transp.png" alt="logo ecolight">
        </div>

        <button onclick="calcular()">Calcular economia</button>
    </div>

    <div id="secao_cards">

        <div class="teste">
            <div class="card">
                <h2>Sem a Ecolight, você gastaria:</h2>
                <span id="sem_ecolight_span" class="texto_card"></span>
            </div>

            <div class="card">
                <h2>Com a Ecolight, você gastaria:</h2>
                <span id="com_ecolight_span" class="texto_card"></span>

            </div>
        </div>

        <div class="card_economizar">
            <h2> Economizando:</h2>

            <span id="economia_span" class="texto_card"></span>
        </div>
    </div>
</body>

</html>

<script>
    function calcular() {
        var quantidadeKwh = Number(input_quantidade_kwh.value);
        var tempo = input_tempo.value;
        var preçoKw = input_preçoKw.value
        var meses = 0
        if (tempo == 'mensal') {
            tempo = 1
        }
        if (tempo == 'semestral') {
            tempo = 6
        }
        if (tempo == 'anual') {
            tempo = 12
        }
        if (tempo == 'bienal') {
            tempo = 24
        }
        if (tempo == 'quadrianual') {
            tempo = 48
        }
        if (preçoKw == 'input_70') {
            preçoKw = 0.70
        }
        if (preçoKw == 'input_85') {
            preçoKw = 0.85
        }
        if (preçoKw == 'input_95') {
            preçoKw = 0.95
        }
        if (preçoKw == 'input_10') {
            preçoKw = 1.00
        }



        var valorPorKwh = quantidadeKwh * preçoKw
        var semProduto = valorPorKwh * tempo;
        var comProduto = semProduto - semProduto * 0.2;
        var valorPoupado = semProduto - comProduto;

        sem_ecolight_span.innerHTML = `${semProduto.toLocaleString('pt-BR', {
            style: "currency",
            currency: 'BRL'
        })}`

        com_ecolight_span.innerHTML = `${comProduto.toLocaleString('pt-BR', {
            style: "currency",
            currency: 'BRL'
        })}`

        economia_span.innerHTML = `${valorPoupado.toLocaleString('pt-BR', {
            style: "currency",
            currency: 'BRL'
        })}`
    }
</script>

<!-- A calculadora recebe os valores das quantidadeKwhs mesais, subtrai a porcentagem desejada e armazena em economia mensal. 
Depois, ela calcula a longo prazo e armazena a economia prevista dos próximos anos
 exibindo também o valor sem a a economia da energia.
-->